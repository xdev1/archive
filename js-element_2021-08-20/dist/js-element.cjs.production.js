"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("js-element/core"),t=function(e,r,n,o){var l;r[0]=0;for(var s=1;s<r.length;s++){var i=r[s++],p=r[s]?(r[0]|=i?1:2,n[r[s++]]):r[++s];3===i?o[0]=p:4===i?o[1]=Object.assign(o[1]||{},p):5===i?(o[1]=o[1]||{})[r[++s]]=p:6===i?o[1][r[++s]]+=p+"":i?(l=e.apply(p,t(e,p,n,["",null])),o.push(l),p[0]?r[0]|=2:(r[s-2]=0,r[s]=l)):o.push(p)}return o},r=new Map;var n={},o=[],l=function(e){this.events[e.type](e)},s=e=>null==e?e:e.key,i=(e,t,r,n,o)=>{"key"===t||("ref"===t?n!==r&&(r&&c(r,null),n&&c(n,e)):"o"===t[0]&&"n"===t[1]?((e.events||(e.events={}))[t=t.slice(2)]=n)?r||e.addEventListener(t,l):e.removeEventListener(t,l):!o&&"list"!==t&&"form"!==t&&(t in e||e.__alwaysSetProps&&"class"!==t&&!t.includes("-"))?(e[t]=null==n?"":n,e.__alwaysSetProps&&(e.__props[t]=n,e.__ctrl.refresh())):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))},p=(e,t)=>{var r=e.props,n=3===e.type?document.createTextNode(e.tag):(t=t||"svg"===e.tag)?document.createElementNS("http://www.w3.org/2000/svg",e.tag,{is:r.is}):document.createElement(e.tag,{is:r.is});for(var o in r)i(n,o,null,r[o],t);for(var l=0;l<e.children.length;l++)n.appendChild(p(e.children[l]=a(e.children[l]),t));return e.node=n},u=(e,t,r,n,o)=>{if(r===n);else if(null!=r&&3===r.type&&3===n.type)r.tag!==n.tag&&(t.nodeValue=n.tag);else if(null==r||r.tag!==n.tag)r&&f(r),t=e.insertBefore(p(n=a(n),o),t),r&&e.removeChild(r.node);else{var l,c,d,g,h=r.props,m=n.props,v=r.children,y=n.children,b=0,x=0,_=v.length-1,P=y.length-1;for(var C in o=o||"svg"===n.tag,{...h,...m})("value"===C||"selected"===C||"checked"===C?t[C]:h[C]!==m[C])&&i(t,C,h[C],m[C],o);for(;x<=P&&b<=_&&null!=(d=s(v[b]))&&d===s(y[x]);)u(t,v[b].node,v[b++],y[x]=a(y[x++]),o);for(;x<=P&&b<=_&&null!=(d=s(v[_]))&&d===s(y[P]);)u(t,v[_].node,v[_--],y[P]=a(y[P--]),o);if(b>_)for(;x<=P;)t.insertBefore(p(y[x]=a(y[x++]),o),(c=v[b])&&c.node);else if(x>P)for(;b<=_;)t.removeChild(v[b].node),f(v[b++]);else{var j={},O={};for(C=b;C<=_;C++)null!=(d=v[C].key)&&(j[d]=v[C]);for(;x<=P;)d=s(c=v[b]),g=s(y[x]=a(y[x])),O[d]||null!=g&&g===s(v[b+1])?(null==d&&(t.removeChild(c.node),f(c)),b++):null==g||1===r.type?(null==d&&(u(t,c&&c.node,c,y[x],o),x++),b++):(d===g?(u(t,c.node,c,y[x],o),O[g]=!0,b++):null!=(l=j[g])?(u(t,t.insertBefore(l.node,c&&c.node),l,y[x],o),O[g]=!0):u(t,c&&c.node,null,y[x],o),x++);for(;b<=_;)null==s(c=v[b++])&&(t.removeChild(c.node),f(c));for(var C in j)null==O[C]&&(t.removeChild(j[C].node),f(j[C]))}}return n.node=t},a=e=>!0!==e&&!1!==e&&e?e:h(""),c=(e,t)=>e&&("function"==typeof e?e(t):e.current=t),f=e=>e&&e.props&&e.props.ref&&c(e.props.ref,null),d=e=>3===e.nodeType?h(e.nodeValue,e):g(e.nodeName.toLowerCase(),n,o.map.call(e.childNodes,d),1,e),g=(e,t,r,n,o)=>({tag:e,props:t,key:t.key,children:r,type:n,node:o}),h=(e,t)=>g(e,n,o,3,t),m=(e,t,r=o)=>g(e,t||n,Array.isArray(r)?r:[r]),v=(e,t)=>((e=u(e.parentNode,e,e.vdom||d(e),t)).vdom=t,e);const{createComponentType:y,createCustomElementClass:b,registerElement:x}=e.adapt.prototype.toString.__getHiddenAPI(),{define:_,render:P,impl:C}=e.adapt({isMountable:e=>!!e&&!0===e.isVElement,patchContent:function(e,t){if(t.hasChildNodes())v(t.firstChild,e);else{const r=document.createElement("span");t.append(r),v(r,e)}}}),j=function(e){var n=r.get(this);return n||(n=new Map,r.set(this,n)),(n=t(this,n.get(e)||(n.set(e,n=function(e){for(var t,r,n=1,o="",l="",s=[0],i=function(e){1===n&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,e,o):3===n&&(e||o)?(s.push(3,e,o),n=2):2===n&&"..."===o&&e?s.push(4,e,0):2===n&&o&&!e?s.push(5,0,!0,o):n>=5&&((o||!e&&5===n)&&(s.push(n,0,o,r),n=6),e&&(s.push(n,e,0,r),n=6)),o=""},p=0;p<e.length;p++){p&&(1===n&&i(),i(p));for(var u=0;u<e[p].length;u++)t=e[p][u],1===n?"<"===t?(i(),s=[s],n=3):o+=t:4===n?"--"===o&&">"===t?(n=1,o=""):o=t+o[0]:l?t===l?l="":o+=t:'"'===t||"'"===t?l=t:">"===t?(i(),n=1):n&&("="===t?(n=5,r=o,o=""):"/"===t&&(n<5||">"===e[p][u+1])?(i(),3===n&&(s=s[0]),n=s,(s=s[0]).push(2,0,n),n=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(i(),n=2):o+=t),3===n&&"!--"===o&&(n=4,s=s[0])}return i(),s}(e)),n),arguments,[])).length>1?n:n[0]}.bind(E),O=new Map;function w(e){return"number"==typeof e||"string"==typeof e?h(e,null):e}function E(e,t){const r=arguments.length;let n="function"==typeof e?e.tagName:e;if(!n&&"function"==typeof e){const t=(e,t)=>{e.__alwaysSetProps=!0,e.__props={},e.__ctrl=t},r=e.name?k(e.name.replace("$","x")):"ce";if(O.has(r)){const e=O.get(r);O.set(r,e+1),n=r+"--n"+(e+1)}else O.set(r,1),n=r+"--n1";e=b(n,t,e,P),Object.defineProperty(e,"tagName",{value:n}),x(n,e)}const o=r>2?[]:A;if(r>2)for(let e=2;e<r;++e){const t=arguments[e];if(Array.isArray(t))for(let e=0;e<t.length;++e)o.push(w(t[e]));else o.push(w(t))}const l=m(n,t||N,o);return l.isVElement=!0,l}const A=[],N={};function k(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}Object.defineProperty(exports,"Attr",{enumerable:!0,get:function(){return e.Attr}}),Object.defineProperty(exports,"attr",{enumerable:!0,get:function(){return e.attr}}),Object.defineProperty(exports,"createCtx",{enumerable:!0,get:function(){return e.createCtx}}),Object.defineProperty(exports,"createEvent",{enumerable:!0,get:function(){return e.createEvent}}),Object.defineProperty(exports,"createRef",{enumerable:!0,get:function(){return e.createRef}}),Object.defineProperty(exports,"defineProvider",{enumerable:!0,get:function(){return e.defineProvider}}),Object.defineProperty(exports,"event",{enumerable:!0,get:function(){return e.event}}),Object.defineProperty(exports,"intercept",{enumerable:!0,get:function(){return e.intercept}}),Object.defineProperty(exports,"prop",{enumerable:!0,get:function(){return e.prop}}),Object.defineProperty(exports,"ref",{enumerable:!0,get:function(){return e.ref}}),exports.asComponent=function(e,t,r){return y(e)},exports.define=_,exports.h=E,exports.html=j,exports.impl=C,exports.render=P;
